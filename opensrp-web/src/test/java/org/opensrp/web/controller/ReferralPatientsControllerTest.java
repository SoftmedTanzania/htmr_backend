package org.opensrp.web.controller;

import org.junit.Test;
import org.mockito.Mock;
import org.opensrp.connector.openmrs.service.OpenmrsUserService;

import static org.junit.Assert.*;

public class ReferralPatientsControllerTest {
    @Test
    public void saveCtcPatients() {

        OpenmrsUserService openmrsUserService = new OpenmrsUserService("http://23.92.25.157:8080/openmrs","admin","Admin123");

        ReferralPatientsController referralPatientsController = new ReferralPatientsController(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,openmrsUserService,null);
        referralPatientsController.saveCtcPatients("{\"ctcPatientsDTOS\":[{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Kefa\",\"surname\":\"Mligo\",\"middleName\":\"Edward\",\"ctcNumber\":\"01-01-0100-002521\",\"dateOfBirth\":382568400000,\"gender\":\"Male\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Gairo\",\"patientAppointments\":[{\"dateOfAppointment\":1533157200000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Stella\",\"surname\":\"Ngeng'ena\",\"middleName\":\"Gaitani\",\"ctcNumber\":\"11-03-0200-002141\",\"dateOfBirth\":442962000000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Berega\",\"village\":\"Ibatu\",\"phoneNumber\":\"0763 493 015\",\"patientAppointments\":[{\"dateOfAppointment\":1528750800000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"AGNES\",\"surname\":\"MBEDULE\",\"middleName\":\"MSAMIA\",\"ctcNumber\":\"11-03-0205-002537\",\"dateOfBirth\":490222800000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Gairo\",\"patientAppointments\":[{\"dateOfAppointment\":1530565200000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"VICTORIA\",\"surname\":\"KAYUKI\",\"middleName\":\"\",\"ctcNumber\":\"11-05-0100-000021\",\"dateOfBirth\":45781200000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Berega\",\"careTakerName\":\"VICTORIA  J.KAYUKI\",\"patientAppointments\":[{\"dateOfAppointment\":1528923600000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Jeremiso\",\"surname\":\"Mgulunde\",\"middleName\":\"Godfrey\",\"ctcNumber\":\"11-05-0100-000064\",\"dateOfBirth\":237762000000,\"gender\":\"Male\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Ihomasa\",\"careTakerName\":\"Damiana Makombe\",\"careTakerPhoneNumber\":\"Box 163 Berega\",\"patientAppointments\":[{\"dateOfAppointment\":1533243600000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Lucas\",\"surname\":\"Mwakasapi\",\"middleName\":\"Juma\",\"ctcNumber\":\"11-05-0100-000142\",\"dateOfBirth\":67554000000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Ihomasa\",\"careTakerName\":\"Juliana Mabena\",\"careTakerPhoneNumber\":\"Livalonge\",\"patientAppointments\":[{\"dateOfAppointment\":1529010000000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Neema\",\"surname\":\"Mohele\",\"middleName\":\"Laurent\",\"ctcNumber\":\"11-05-0100-000286\",\"dateOfBirth\":168728400000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Berega\",\"village\":\"Ngwazi Estate\",\"careTakerName\":\"Benson Mkengefu\",\"careTakerPhoneNumber\":\"Berega Mahnga\",\"patientAppointments\":[{\"dateOfAppointment\":1533157200000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Atilio\",\"surname\":\"Valonge\",\"middleName\":\"Gaitan\",\"ctcNumber\":\"11-05-0100-000705\",\"dateOfBirth\":-79066800000,\"gender\":\"Male\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Ihomasa\",\"careTakerName\":\"Daida Msakwa\",\"patientAppointments\":[{\"dateOfAppointment\":1533157200000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Eva\",\"surname\":\"Mlonganile\",\"middleName\":\"Enock\",\"ctcNumber\":\"11-05-0100-000798\",\"dateOfBirth\":-146026800000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Gairo\",\"village\":\"Lupunga\",\"careTakerName\":\"Emakulata Kibiki\",\"careTakerPhoneNumber\":\"Berega, Kihanga\",\"patientAppointments\":[{\"dateOfAppointment\":1533157200000,\"appointmentType\":1,\"status\":-1}]},{\"healthFacilityCode\":\"11-05-02.04\",\"firstName\":\"Belta\",\"surname\":\"Kipinge\",\"middleName\":\"Matimbo\",\"ctcNumber\":\"11-05-0100-000847\",\"dateOfBirth\":-361853100000,\"gender\":\"Female\",\"dateOfDeath\":0,\"hivStatus\":true,\"ward\":\"Berega\",\"village\":\"Ikwega\",\"careTakerName\":\"Tina Kipinge\",\"patientAppointments\":[{\"dateOfAppointment\":1530738000000,\"appointmentType\":1,\"status\":-1}]}],\"facilityCTC2Code\":\"11-05-02.04\",\"hfrCode\":\"102400-9\"}");
    }
}